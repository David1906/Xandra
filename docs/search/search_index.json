{"config":{"lang":["es"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"index.html","title":"Inicio","text":"<p>Xandra es una envoltura al secuenciador <code>FCTHostControl</code> intencionado a controlar y monitorear el yield de cada fixtura asociada con un servidor PXE, en consecuencia cuenta con m\u00faltiples herramientas para facilitar el mantenimiento y depuraci\u00f3n de fallas relacionadas con el producto Lunar Bahubali.</p> <p></p>"},{"location":"commands.html","title":"Comandos","text":""},{"location":"commands.html#comandos-de-terminal","title":"Comandos de terminal","text":"<p>Xandra cuenta con distintos comandos que pueden ejecutarse directamente en la terminal para facilitar la interacci\u00f3n con el usuario. La lista completa es la siguiente:</p> <ul> <li><code>xandra</code> - Inicia Xandra y todas sus dependencias.</li> <li><code>xandra-testing</code> - Inicia Xandra en modo de pruebas.</li> <li><code>xandra-config</code> - Abre el archivo de configuraci\u00f3n de Xandra en un editor de texto gr\u00e1fico.</li> <li><code>xandra-path</code> - Ingresa a la carpeta de instalaci\u00f3n de Xandra mediante el comando cd.</li> <li><code>xandra-update</code> - Actualiza y configura Xandra a su versi\u00f3n m\u00e1s reciente.</li> <li><code>xandra-kill</code> - Cierra xandra terminando el proceso python3 sobre el cual se ejecuta.</li> <li><code>xandra-docs</code> - Abre la documentaci\u00f3n de Xandra.</li> <li><code>xandra-pyenv-activate</code> - Ingresa a la carpeta de instalaci\u00f3n de Xandra mediante el comando cd y activa el entorno virtual de python.</li> <li><code>xandra-pyenv-deactivate</code> - Desactiva el entorno virtual de python.</li> </ul>"},{"location":"commands.html#atajos-de-teclado","title":"Atajos de teclado","text":"<p>Dentro de Xandra es posible utilizar distintos atajos de teclado para activar alguna funcionalidad o agilizar el trabajo del usuario, se ha optado por \u00e9sta opci\u00f3n sobre la incorporaci\u00f3n de men\u00fas debido a que se pretende reducir al m\u00ednimo la incorrecta manipulaci\u00f3n del sistema por parte de usuarios no capacitados para \u00e9ste fin, como lo puede ser un operador.</p> <ul> <li><code>Ctrl+Shift+A</code> - Inicia la terminal de todas las fixturas que se encuentren detenidas.</li> <li><code>Ctrl+Shift+S</code> - Detiene la terminal de todas las fixturas que se encuentren iniciadas.</li> <li><code>Ctrl+Shift+R</code> - Habilita o deshabilita el modo retest.</li> <li><code>Ctrl+Shift+T</code> - Si se encuentra habilitado el modo retest, con este atajo se permite desbloquear o bloquear el selector de trazabilidad (requiere contrase\u00f1a).</li> <li><code>Ctrl+Shift+L</code> - Habilita o deshabilita el bloqueo de las fixturas (requiere contrase\u00f1a).</li> </ul>"},{"location":"commands.html#comandos-para-desarrollo","title":"Comandos para desarrollo","text":"<ul> <li> <p>Crear nueva migraci\u00f3n:  <pre><code>alembic revision --autogenerate -m \"\"\n</code></pre></p> </li> <li> <p>Aplicar migraci\u00f3n:  <pre><code>alembic upgrade head\n</code></pre></p> </li> <li> <p>Servir documentaci\u00f3n:  <pre><code>mkdocs serve </code></pre></p> </li> <li> <p>Hacer build de documentaci\u00f3n:  <pre><code>mkdocs build -d ../../../docs  </code></pre></p> </li> </ul>"},{"location":"configs.html","title":"Configuraciones","text":"<p>Existen m\u00faltiples configuraciones que permiten adecuar el comportamiento de Xandra a los cambios presentados tanto en requerimientos de calidad como el yield m\u00ednimo para bloquear un equipo, hasta agregar una nueva versi\u00f3n del script de pruebas.</p> <p>El archivo de configuraci\u00f3n principal de xandra se encuentra escrito en formato <code>JSON</code> est\u00e1ndar y est\u00e1 localizado en la ra\u00edz del proyecto, se le puede localizar con el nombre <code>xandra_config.json</code>.</p> <p>Tip</p> <p>Para abrir el archivo de configuraci\u00f3n de xandra en modo edici\u00f3n puede ingresar el comando <code>xandra-config</code> en una terminal.</p>"},{"location":"configs.html#listado-de-configuraciones","title":"Listado de configuraciones","text":"<p><code>fixtureIpEnvironmentName</code>: Nombre de la variable del entorno en la cu\u00e1l se inyectar\u00e1 la ip de la fixtura al iniciar su terminal. Se recomienda no modificar esta configuraci\u00f3n a menos que sea estrictamente necesario.</p> <p><code>fctHostControl</code>: Arreglo con configuraciones de los archivos FCTHostControl y FCTHostControl.config (ver secci\u00f3n acerca de agregar nueva versi\u00f3n de script).</p> <p><code>fctHostControl.path</code>: Ruta a la carpeta donde se contienen los archivos FCTHostControl y FCTHostControl.config.</p> <p><code>fctHostControl.executable</code>: Nombre del archivo ejecutable FCTHostControl.</p> <p><code>fctHostControl.config</code>: Nombre del archivo de configuraci\u00f3n FCTHostControl.config</p> <p><code>defaultProductModelName</code>: Nombre del modelo seleccionado por defecto en FCTHostControl.config (se procesa como expresi\u00f3n regular)</p> <p><code>uploadSfcScript</code>: Ruta completa al script encargado de subir la trazabilidad al sistema SFC en modo s\u00f3lo reportar a sistema tarjetas buenas.</p> <p><code>logsPath</code>: Ruta donde se guardan los logs de las pruebas realizadas.</p> <p><code>yieldErrorThreshold</code>: [0-100; 0 = deshabilitado] - Porcentaje de yield el cual una vez alcanzado bloquear\u00e1 la fixtura y la pintar\u00e1 de color rojo en la interfaz.</p> <p><code>yieldWarningThreshold</code>: [0-99] - Porcentaje de yield el cual una vez alcanzado pintar\u00e1 la fixtura de color amarillo en la interfaz.</p> <p><code>yieldCalcQty</code>: [0-1000] - Cantidad de pruebas con las que se calcular\u00e1 el yield.</p> <p><code>unlockPassQty</code>: [1-5] - Cantidad de pruebas consecutivas con estatus PASS necesarias para desbloquear la fixtura.</p> <p><code>lockFailQty</code>: [0-10; 0 = deshabilitado] - Cantidad de pruebas consecutivas con estatus FAILED necesarias para bloquear la fixtura.</p> <p><code>googleSheets</code>: Configuraci\u00f3n para subir resultados de las pruebas realizadas a google sheets (ver secci\u00f3n acerca de google sheets). </p> <p><code>googleSheets.isActivated</code>: Valor booleano para activar (true) o desactivar (false) la subida de informaci\u00f3n a google sheets.</p> <p><code>googleSheets.sheetName</code>: Nombre de la hoja de google sheets donde se subir\u00e1n los resultados de las pruebas.</p> <p><code>googleSheets.keyfilePath</code>: Ruta completa a la llave de acceso para la hoja de google sheets.</p>"},{"location":"configs.html#archivo-de-configuracion-predeterminado","title":"Archivo de configuraci\u00f3n predeterminado","text":"<pre><code>{\n\"fixtureIpEnvironmentName\": \"XANDRA_FIXTURE_IP\",\n\"fixtureIpEnvironmentName_description\":\"Variable del entorno en la cu\u00e1l se inyectar\u00e1 la ip de la fixtura\",\n\n\"fctHostControl\": [\n{\n\"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3_4.2\",\n\"executable\": \"FCTHostControl\",\n\"config\": \"FCTHostControl.config\"\n},\n{\n\"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3\",\n\"executable\": \"FCTHostControl\",\n\"config\": \"FCTHostControl.config\"\n}\n],\n\"fctHostControl_description\":\"Configuraci\u00f3n de ruta completa a la carpeta que contiene los archivos FCTHostControl y FCTHostControl.config\",\n\n\"defaultProductModelName\":  \"^C4.*\",\n\"defaultProductModelName_description\" : \"Nombre del modelo seleccionado por defecto en FCTHostControl.config (se procesa como expresi\u00f3n regular)\",\n\n\"uploadSfcScript\":  \"/usr/local/Foxconn/automation/Xandra/Resources/up_sfc.sh\",\n\"uploadSfcScript_description\" : \"Ruta completa al script encargado de subir la trazabilidad al sistema SFC\",\n\n\"logsPath\": \"/log/diag\",\n\"logsPath_description\":\"Ruta donde se guardan los logs de las pruebas realizadas\",\n\n\"yieldErrorThreshold\": 0,\n\"yieldErrorThreshold_description\": \"[0-100; 0 = deshabilitado] - Porcentaje de yield el cual una vez alcanzado bloquear\u00e1 la fixtura y lo pintar\u00e1 de color rojo en la interfaz (0 para deshabilitar)\",\n\n\"yieldWarningThreshold\": 70,\n\"yieldWarningThreshold_description\": \"[0-99] - Porcentaje de yield el cual una vez alcanzado pintar\u00e1 la fixtura de color amarillo en la interfaz\",\n\n\"yieldCalcQty\": 10,\n\"yieldCalcQty_description\" : \"[0-1000] - Cantidad de pruebas con las que se calcular\u00e1 el yield\",\n\n\"unlockPassQty\": 1,\n\"unlockPassQty_description\" : \"[1-5] - Cantidad de pruebas consecutivas con estatus PASS necesarias para desbloquear la fixtura\",\n\n\"lockFailQty\": 3,\n\"lockFailQty_description\" : \"[0-10; 0 = deshabilitado] - Cantidad de pruebas consecutivas con estatus FAILED necesarias para bloquear la fixtura\",\n\n\"googleSheets\": {\n\"isActivated\" : true,\n\"sheetName\": \"FBT Bahubali\",\n\"keyfilePath\": \"/usr/local/Foxconn/automation/Xandra/Static/yield-bahubali-f20f62671db6.json\"\n},\n\"googleSheets_description\":\"Configuraci\u00f3n para subir resultados de las pruebas realizadas a google sheets\"\n}\n</code></pre>"},{"location":"configs.html#agregar-nueva-version-del-script-de-pruebas","title":"Agregar nueva versi\u00f3n del script de pruebas","text":"<p>Es importante distinguir entre la versi\u00f3n del secuenciador <code>FCTHostControl</code> y la versi\u00f3n del script de pruebas, existen m\u00faltiples versiones de ambos pero no todos son compatibles entre s\u00ed, es importante remarcar que a partir de la versi\u00f3n 4.2 del script de prueba el secuenciador <code>FCTHostControl</code> fue actualizado a la par para agregar nuevas funcionalidades, como el bloqueo de la fixtura tras cumplir una serie de condiciones de manera similar a como lo realiza Xandra.</p> <p>La tabla de compatibilidad entre ambos elementos antes vistos es la siguiente:</p> FCTHostControl Script FCTHostControl &lt;=4.1 FCTHostControl 4.2 4.2&gt;= <p>Seg\u00fan sea el caso es posible actualizar solamente la version del script que ejecutara el secuenciador o en su defecto actualizar el secuenciador mismo.</p>"},{"location":"configs.html#agregar-nueva-version-del-script-de-pruebas_1","title":"Agregar nueva versi\u00f3n del script de pruebas","text":"<p>Para actualizar la versi\u00f3n del script ejecutado por el secuenciador es necesario modificar el archivo <code>FCTHostControl.config</code> reemplazando en todos los campos la ruta del script actual por el nuevo:</p> <p>Example</p> <ul> <li> <p>Ejemplo de script actual:     </p> </li> <li> <p>Ejemplo de script nuevo tras reemplazar todas las incidencias de la ruta del script viejo:     </p> <pre><code>- /usr/local/Foxconn/PVT2_C2/automation_L6_C2_v3.4\n+ /usr/local/Foxconn/PVT2_C2/automation_L6_C2_v4.1\n</code></pre> </li> </ul> <p>Una vez realizado lo anterior tanto Xandra como <code>FCTHostControl</code> reconocer\u00e1n y utilizar\u00e1n la versi\u00f3n del script especificada en el archivo de configuraci\u00f3n, cabe mencionar que es necesario reiniciar Xandra para que los cambios se vean reflejados.</p>"},{"location":"configs.html#agregar-nueva-version-de-fcthostcontrol","title":"Agregar nueva versi\u00f3n de <code>FCTHostControl</code>","text":"<p>Cuando sea necesario introducir una nueva versi\u00f3n del secuenciador <code>FCTHostControl</code> puede realizarse siguiendo estos pasos:</p> <ul> <li>Ejecutar el comando <code>xandra-config</code> para abrir el archivo de configuraci\u00f3n.</li> <li> <p>Agregar un nuevo objeto en la configuraci\u00f3n <code>fctHostControl</code>, con los campos <code>path</code>, <code>executable</code> y <code>config</code>:</p> <p>Example</p> <pre><code>\"fctHostControl\": [\n+   {\n+       \"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3_4.3\",\n+       \"executable\": \"FCTHostControl\",\n+       \"config\": \"FCTHostControl.config\"\n+   },\n   {\n        \"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3_4.2\",\n        \"executable\": \"FCTHostControl\",\n        \"config\": \"FCTHostControl.config\"\n    },\n    {\n        \"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3\",\n        \"executable\": \"FCTHostControl\",\n        \"config\": \"FCTHostControl.config\"\n    }\n]\n</code></pre> </li> <li> <p>Guardar los cambios realizados en el archivo.</p> </li> </ul> <p>Note</p> <p>Xandra valida de arriba hacia abajo la existencia de las carpetas especificadas en el arreglo y selecciona de forma autom\u00e1tica la primera configuraci\u00f3n v\u00e1lida que encuentre.</p>"},{"location":"configs.html#hoja-de-calculo-de-google-sheets","title":"Hoja de c\u00e1lculo de google sheets","text":"<p>Se tiene la posibilidad de subir la informaci\u00f3n de las pruebas ejecutadas a una hoja de de google sheets, \u00e9sta actualmente se utiliza como base de datos para generar reportes y dashboards con Power BI para monitorear el desempe\u00f1o de las fixturas.</p> <p>Para lograr tal objetivo se hace uso de la api proporcionada por google, por lo que es necesario registrar un nuevo proyecto en la plataforma google cloud platform y obtener la llave de acceso en formato json para poder acceder a las hojas de calculo desde Xandra.</p> <p>Note</p> <p>Para crear una nueva aplicaci\u00f3n y una nueva llave de acceso puede seguir los pasos de esta gu\u00eda.</p> <p>La configuraci\u00f3n actual de google sheets est\u00e1 gestionada con la siguiente cuenta de google:</p> <p><code>usuario</code>: david.ascencio.foxconn@gmail.com</p> <p><code>contrase\u00f1a</code>: Foxconn#231</p>"},{"location":"configs.html#cambiar-ruta-de-logfiles","title":"Cambiar ruta de logfiles","text":"<p>Xandra al ser un envoltorio de <code>FCTHostControl</code> no puede acceder de forma directa al resultado de las pruebas ejecutadas, por lo tanto, para obtener dicha informaci\u00f3n hace uso de <code>watchdogs</code> que informan sobre los eventos de creaci\u00f3n, modificaci\u00f3n y eliminaci\u00f3n de archivos en la carpeta especificada, as\u00ed pues, si no se configura de manera correcta la ruta en donde se guardan los logfiles de prueba, Xandra no podr\u00e1 obtener dicha informaci\u00f3n y su funcionamiento ser\u00e1 err\u00e1tico e indeseado.</p> <p>Para establecer la ruta de logfiles de prueba basta con modificarla en el archivo de configuraci\u00f3n:</p> <ul> <li>Ejecutar el comando <code>xandra-config</code> para abrir el archivo de configuraci\u00f3n.</li> <li> <p>Modifica la configuraci\u00f3n <code>logsPath</code>.</p> <p>Example</p> <pre><code>- \"logsPath\": \"/log/diag\",\n+ \"logsPath\": \"/log/new_path\",\n</code></pre> </li> <li> <p>Guarda los cambios generados en el archivo.</p> </li> <li>Reinicia Xandra.</li> </ul> <p>Note</p> <p>Es necesario reiniciar Xandra para que los cambios realizados a la ruta de logfiles surja efecto.</p>"},{"location":"install.html","title":"Instalaci\u00f3n","text":"<p>El programa Xandra est\u00e1 basado en python3 por \u00e9sta raz\u00f3n su interfaz gr\u00e1fica utiliza como motor PyQt5, la persistencia de datos se realiza mediante MySQL cuyo motor es gestionado por XAMPP.</p> <p>Como puede observarse Xandra tiene m\u00faltiples dependencias externas por lo que es necesario realizar la instalaci\u00f3n de cada una de ellas para poder ejecutar el programa principal.</p>"},{"location":"install.html#instalar-xampp","title":"Instalar XAMPP","text":"<p>XAMPP es una distribuci\u00f3n de Apache completamente gratuita y f\u00e1cil de instalar que contiene MariaDB, PHP y Apache Server. Se decidi\u00f3 utilizar el paquete de instalaci\u00f3n de XAMPP debido a que ha sido dise\u00f1ado para ser incre\u00edblemente f\u00e1cil de instalar y utilizar.</p> <p>Para instalar \u00e9sta distribuci\u00f3n realice los siguientes pasos:</p> <ul> <li>Descargar XAMPP para Linux desde https://www.apachefriends.org/es/index.html</li> <li> <p>Al terminar la descarga queda un archivo con extensi\u00f3n .run el cual debe ser instalado de la siguiente manera (donde xxx es la versi\u00f3n del archivo descargado):</p> <p><pre><code>sudo su\n</code></pre> <pre><code>chmod +x xampp-linux-x64-xxx-installer.run\n</code></pre> <pre><code>./xampp-linux-x64-xxx-installer.run\n</code></pre> </p> </li> <li> <p>Aceptar todo y esperar a que termine la instalaci\u00f3n.</p> </li> </ul>"},{"location":"install.html#crear-servicio-de-xampp","title":"Crear servicio de XAMPP","text":"<p>La intenci\u00f3n de crear un servicio para el paquete XAMPP es que \u00e9ste sea inicializado autom\u00e1ticamente despu\u00e9s de reiniciar el servidor. Para lograr \u00e9ste objetivo se hace uso de <code>systemd</code> que es un sistema init y un administrador del sistema, considerado como el est\u00e1ndar para las distribuciones Linux e incluido por defecto en CentOS.</p> <p>La finalidad principal de un sistema init es inicializar los componentes que deben ejecutarse tras arrancar el kernel Linux (tradicionalmente conocidos como componentes \u201cuserland\u201d). El sistema init tambi\u00e9n se utiliza para administrar servicios y daemons para el servidor en cualquier momento mientras se ejecuta el sistema.</p> <p>Para crear el servicio del paquete XAMPP es necesario realizar los siguientes pasos:</p> <ul> <li> <p>Acceder a la carpeta contenedora de los servicios:</p> <pre><code>cd /etc/systemd/system/\n</code></pre> </li> <li> <p>Crear un nuevo archivo llamado <code>xampp.service</code>:     <pre><code>touch xampp.service\n</code></pre></p> </li> <li> <p>Abrir el archivo con un editor de texto gr\u00e1fico:     <pre><code>gedit xampp.service\n</code></pre></p> </li> <li> <p>Copiar y pegar el siguiente texto en el archivo <code>xampp.service</code>:</p> <pre><code>[Unit]\nDescription = Xampp server\n\n[Service]\nExecStart =/opt/lampp/lampp start\nExecStop =/opt/lampp/lampp stop\nType=forking\n\n[Install]\nWantedBy = multi-user.target\n</code></pre> </li> <li> <p>Guardar los cambios del archivo <code>xampp.service</code>.</p> </li> <li> <p>Habilitar el servicio para que XAMPP sea inicializado autom\u00e1ticamente en el arranque:</p> <pre><code>systemctl enable xampp.service\n</code></pre> </li> <li> <p>Iniciar el servicio:</p> <pre><code>systemctl start xampp.service\n</code></pre> </li> <li> <p>Validar que todo se ha inicializado correctamente:      <pre><code>systemctl status xampp.service\n</code></pre></p> </li> <li> <p>Se debe mostrar una salida similar a la siguiente:</p> <p>Success</p> <pre><code>XAMPP: Starting Apache.../opt/lampp/share/xampp/xampplib\n/opt/lampp/share/xampp/xampplib\nok.\nXAMPP: Starting MySQL.../opt/lampp/share/xampp/xampplib\nok.\nXAMPP: Starting ProFTPD.../opt/lampp/share/xampp/xampplib\nok.\n</code></pre> </li> </ul> <p>Warning</p> <p>Si aparece un error relacionado con libc.so.6, libdl.so.2 dir\u00edjase al apartado soluci\u00f3n de problemas para resolverlo.</p>"},{"location":"install.html#crear-base-de-datos","title":"Crear base de datos","text":"<p>La base de datos es el componente principal para la persistencia de informaci\u00f3n utilizado por Xandra, en \u00e9ste se almacenan los resultados de las pruebas realizadas, la configuraci\u00f3n, el estado de cada fixtura, entre otros.</p> <p>Para crear la base de datos <code>xandra_dbo</code> dentro de <code>MySQL</code> ejecute los siguientes comandos:</p> <ul> <li> <p>Escriba en la terminal el comando para ejecutar el motor de la base de datos:</p> <pre><code>/opt/lampp/bin/mysql -u root\n</code></pre> </li> <li> <p>Se iniciara la consola de <code>MariaDB</code> y mostrara una informaci\u00f3n similar a la siguiente:</p> <pre><code>Welcome to the MariaDB monitor.  Commands end with ; or \\g.\nYour MariaDB connection id is 9\nServer version: 10.4.27-MariaDB Source distribution\n\nCopyright (c) 2000, 2018, Oracle, MariaDB Corporation Ab and others.\n\nType 'help;' or '\\h' for help. Type '\\c' to clear the current input statement.\n\nMariaDB [(none)]&gt; \n</code></pre> </li> <li> <p>Introduzca el siguiente comando para crear el esquema <code>xandra_dbo</code>:</p> <pre><code>CREATE DATABASE IF NOT EXISTS xandra_dbo;\n</code></pre> </li> <li> <p>Si la respuesta es semejante a la que se muestra a continuaci\u00f3n, el procedimiento fue realizado correctamente:</p> <p>Success</p> <p>MariaDB [(none)]&gt; CREATE DATABASE IF NOT EXISTS xandra_dbo;</p> <p>Query OK, 1 row affected (0.039 sec)</p> </li> <li> <p>Salir de la consola MariaDB escriba el comando:     <pre><code>exit\n</code></pre></p> </li> </ul>"},{"location":"install.html#instalar-dependencias-del-sistema","title":"Instalar dependencias del sistema","text":"<p>Xandra tiene dependencias externas relacionadas con el sistema operativo, las mismas son instaladas mediante el gestor de paquetes propio de CentOS, es decir, yum.</p> <p>Para instalar dichas dependencias es necesario contar con una conexi\u00f3n estable a internet debido a que los repositorios en los que se encuentran alojadas s\u00f3lo son accesibles a trav\u00e9s de \u00e9ste medio.</p> <ul> <li> <p>Para instalar las dependencias del sistema ejecute el siguiente comando:</p> <pre><code>sudo yum install -y tmux xterm python3\n</code></pre> </li> </ul>"},{"location":"install.html#agregar-comandos-alias-al-sistema","title":"Agregar comandos alias al sistema","text":"<p>Los alias son similares, salvando las distancias, a los accesos directos de Windows. Permiten representar un comando o conjunto de comandos asoci\u00e1ndolos con una palabra clave dentro de la terminal. Su uso principal es el de abreviar \u00f3rdenes o a\u00f1adir argumentos de forma predeterminada a una orden que se usa con mucha frecuencia.</p> <p>Para agregar los alias de Xandra realice los siguientes pasos:</p> <ul> <li> <p>Modificar archivo <code>~/.bashrc</code>:</p> <pre><code>gedit ~/.bashrc\n</code></pre> </li> <li> <p>Copiar y pegar el siguiente texto al final del archivo <code>~/.bashrc</code>:</p> <pre><code>if [ -f ~/.bash_aliases ]; then\n. ~/.bash_aliases\nfi\n</code></pre> </li> <li> <p>Guardar los cambios.</p> </li> <li> <p>Crear archivo <code>~/.bash_aliases</code>:</p> <pre><code>touch ~/.bash_aliases\n</code></pre> </li> <li> <p>Abrir en el editor de texto gr\u00e1fico al archivo <code>~/.bash_aliases</code>:</p> <pre><code>gedit ~/.bash_aliases\n</code></pre> </li> <li> <p>Copiar y pegar el siguiente texto en el archivo <code>~/.bash_aliases</code>:</p> <pre><code># Set environment variables\nexport XANDRA_BASE_PATH=/usr/local/Foxconn/automation/Xandra\nexport XANDRA_MAIN_SCRIPT=$XANDRA_BASE_PATH/xandra.py\n\n# Open Xandra path and activate pyenv\nalias xandra-pyenv-activate='cd $XANDRA_BASE_PATH &amp;&amp; pyenv activate xandra'\n\n# Deactivate pyvenv\nalias xandra-pyenv-deactivate='pyenv deactivate'\n\n# Alias to open Xandra\nalias xandra='systemctl start xampp.service &amp;&amp; tmux new -d \"source $HOME/.bashrc &amp;&amp; cd $XANDRA_BASE_PATH &amp;&amp; pyenv activate xandra &amp;&amp; python3 $XANDRA_MAIN_SCRIPT\"'\n\n# Alias to open Xandra in testing mode\nalias xandra-testing='ENV=testing &amp;&amp; xandra'\n\n# Alias to open Xandra config\nalias xandra-config='tmux new -d \"gedit $XANDRA_BASE_PATH/xandra_config.json\"'\n\n# Alias to cd Xandra path\nalias xandra-path='cd $XANDRA_BASE_PATH'\n\n# Alias to update Xandra\nalias xandra-update='sudo chmod +x $XANDRA_BASE_PATH/update.sh &amp;&amp; $XANDRA_BASE_PATH/update.sh'\n\n# Alias to kill Xandra\nalias xandra-kill='fuser $XANDRA_MAIN_SCRIPT 2&gt; /dev/null | xargs kill'\n\n# Alias to open docs\nalias xandra-docs='gio open $XANDRA_BASE_PATH/docs/index.html'\n</code></pre> </li> <li> <p>Guardar los cambios.</p> </li> <li> <p>Ejecutar comando para cargar los alias a la terminal:</p> <pre><code>source ~/.bash_aliases\n</code></pre> </li> </ul> <p>Warning</p> <p>En ocasiones es necesario reiniciar la terminal para poder ejecutar los comandos alias de Xandra.</p> <p>Tip</p> <p>La lista completa de comandos se puede consultar en la secci\u00f3n comandos.</p>"},{"location":"install.html#clonar-repositorio-de-github","title":"Clonar repositorio de Github","text":"<p>El proyecto Xandra se encuentra alojado en el servidor Github.com para facilitar la gesti\u00f3n de versiones y su distribuci\u00f3n.</p> <p>Al clonar un repositorio se extrae una copia integral de todos los datos del repositorio que GitHub.com tiene en ese momento, incluidas todas las versiones de cada archivo y carpeta del proyecto.</p> <ul> <li> <p>Para clonar el programa Xandra a la computadora local ejecute los siguientes comandos:</p> <p><pre><code>mkdir /usr/local/Foxconn/automation\n</code></pre> <pre><code>cd /usr/local/Foxconn/automation\n</code></pre> <pre><code>git clone https://github.com/David1906/Xandra.git\n</code></pre></p> </li> </ul>"},{"location":"install.html#instalar-entorno-virtual-de-python","title":"Instalar entorno virtual de Python","text":"<p>Pyenv en es una herramienta que nos permite instalar diferentes versiones de Python y cambiar entre ellas seg\u00fan los requerimientos del proyecto con el cual necesitamos trabajar. De igual manera permite aislar por completo las dependencias del proyecto para evitar conflictos.</p> <p>Para instalar pyenv ejecute los siguientes comandos:</p> <ul> <li>Instalar dependencias de <code>pyenv</code>:</li> <li> <pre><code>yum install gcc zlib-devel bzip2 bzip2-devel readline readline-devel sqlite sqlite-devel openssl openssl-devel git libffi-devel\n</code></pre> </li> <li> <p>Clonar c\u00f3digo fuente del repositorio de <code>pyenv</code>:</p> </li> <li> <pre><code>git clone https://github.com/pyenv/pyenv.git ~/.pyenv\n</code></pre> </li> <li> <p>Instalar <code>virtualenv</code> para poder aislar la instalaci\u00f3n de dependencias:     <pre><code>git clone https://github.com/pyenv/pyenv-virtualenv.git ~/.pyenv/plugins/pyenv-virtualenv\n</code></pre></p> </li> <li> <p>Abrir en el editor de texto gr\u00e1fico al archivo <code>~/.bashrc</code>:</p> <pre><code>gedit ~/.bashrc\n</code></pre> </li> <li> <p>Copiar y pegar el siguiente texto en el archivo <code>~/.bashrc</code>:     <pre><code># Pyenv environment variables\nexport PYENV_ROOT=\"$HOME/.pyenv\"\nexport PATH=\"$PYENV_ROOT/bin:$PATH\"\n\n# Pyenv initialization\nif command -v pyenv 1&gt;/dev/null 2&gt;&amp;1; then\neval \"$(pyenv init --path)\"\neval \"$(pyenv init -)\"\neval \"$(pyenv virtualenv-init -)\"\nfi\n</code></pre></p> </li> <li> <p>Guardar los cambios del archivo <code>~/.bashrc</code>.</p> </li> <li> <p>Abrir en el editor de texto gr\u00e1fico al archivo <code>~/.bash_profile</code>:</p> <pre><code>gedit ~/.bash_profile\n</code></pre> </li> <li> <p>Copiar y pegar el siguiente texto en el archivo <code>~/.bash_profile</code>:     <pre><code># Source bashrc\nif [ -n \"$BASH_VERSION\" ]; then\nif [ -f \"$HOME/.bashrc\" ]; then\n. \"$HOME/.bashrc\"\nfi\nfi\n</code></pre></p> </li> <li> <p>Guardar los cambios del archivo <code>~/.bash_profile</code>.</p> </li> <li> <p>Recargar configuraci\u00f3n de la terminal:     <pre><code>exec \"$SHELL\"\n</code></pre></p> </li> <li> <p>Instalar versi\u00f3n 3.8.2 en entorno virtual:     <pre><code>pyenv install 3.8.2\n</code></pre></p> </li> <li> <p>Crear entorno virtual     <pre><code>pyenv virtualenv 3.8.2 xandra\n</code></pre></p> </li> <li> <p>Instalar versi\u00f3n 2.7 en entorno virtual:     <pre><code>pyenv install 2.7\n</code></pre></p> </li> <li> <p>Crear entorno virtual     <pre><code>pyenv virtualenv 2.7 fctHostControl\n</code></pre></p> </li> </ul>"},{"location":"install.html#instalar-dependencias-python","title":"Instalar dependencias python","text":"<p>Pip es un sistema de gesti\u00f3n de paquetes utilizado para instalar y administrar paquetes de software escritos en Python. Xandra hace uso de dichos paquetes para enriquecer su funcionalidad provey\u00e9ndolo de caracter\u00edsticas tales como una interfaz gr\u00e1fica.</p> <ul> <li>Para instalar las dependencias de python ejecute los siguientes comandos:</li> </ul>"},{"location":"install.html#instalar-dependencias-globales","title":"Instalar dependencias globales","text":"<ul> <li> <p>Actualizar gestor de paquetes <code>pip</code>:     <pre><code>python3 -m pip install --upgrade pip\n</code></pre></p> </li> <li> <p>Instalar alembic (encargado de las migraciones en base de datos):     <pre><code>python3 -m pip install alembic --user\n</code></pre></p> </li> <li> <p>Instalar pymysql (conector mysql para python):     <pre><code>python3 -m pip install pymysql\n</code></pre></p> </li> </ul>"},{"location":"install.html#instalar-dependencias-de-xandra","title":"Instalar dependencias de Xandra","text":"<ul> <li> <p>Activar entorno virtual     <pre><code>xandra-pyenv-activate\n</code></pre></p> </li> <li> <p>Actualizar gestor de paquetes <code>pip</code> en virtualenv:     <pre><code>python3 -m pip install --upgrade pip\n</code></pre></p> </li> <li> <p>Instalar dependencias de Xandra:     <pre><code>python3 -m pip install -r requirements.txt\n</code></pre></p> </li> </ul>"},{"location":"install.html#instalar-dependencias-de-fcthostcontrol","title":"Instalar dependencias de FCTHostControl","text":"<ul> <li> <p>Activar entorno virtual     <pre><code>pyenv activate fctHostControl\n</code></pre></p> </li> <li> <p>Actualizar gestor de paquetes <code>pip</code> en virtualenv:     <pre><code>pip install --upgrade pip\n</code></pre></p> </li> <li> <p>Instalar dependencias de Xandra:     <pre><code>pip install pyserial\n</code></pre></p> </li> </ul>"},{"location":"install.html#crear-acceso-directo","title":"Crear acceso directo","text":"<p>En Gnu/Linux es f\u00e1cil crear accesos directos personalizados que est\u00e9n registrados por el escritorio y que los muestre en donde corresponda de manera autom\u00e1tica, para ello solo hemos de crear un archivo .desktop con la configuraci\u00f3n necesaria dentro de la carpeta correspondiente.</p> <p>En el caso de Xandra dicho acceso directo se crea en la carpeta Desktop del usuario root, para ello realice los siguientes pasos:</p> <ul> <li> <p>Crear archivo <code>xandra.desktop</code>:</p> <pre><code>touch /root/Desktop/xandra.desktop\n</code></pre> </li> <li> <p>Abrir en el editor de texto gr\u00e1fico al archivo <code>xandra.desktop</code>:     <pre><code>gedit /root/Desktop/xandra.desktop\n</code></pre></p> </li> <li> <p>Copiar y pegar el siguiente texto en el archivo <code>xandra.desktop</code>:</p> <pre><code>[Desktop Entry]\nName=Xandra\nExec=bash -ic xandra\nTerminal=true\nType=Application\nIcon=/usr/local/Foxconn/automation/Xandra/Static/icon.png\n</code></pre> </li> <li> <p>Guardar los cambios.</p> </li> <li> <p>Una vez realizados los pasos anteriores debe aparecer un acceso directo en el escritorio del usuario root con el \u00edcono de Xandra.</p> </li> </ul> <p>Tip</p> <p>Tambi\u00e9n es posible abrir el programa Xandra ejecutando el comando <code>xandra</code> en una terminal.</p>"},{"location":"install.html#correr-script-de-actualizacion","title":"Correr script de actualizaci\u00f3n","text":"<p>Xandra cuenta con un script especializado en buscar, descargar y configurar las nuevas versiones lanzadas del mismo, para ello basta con ejecutar el comando <code>xandra-update</code> en una terminal.</p> <pre><code>xandra-update\n</code></pre>"},{"location":"install.html#validar-configuracion","title":"Validar configuraci\u00f3n","text":"<p>Antes de iniciar Xandra es importante validar la configuraci\u00f3n por defecto incluida en la versi\u00f3n actual, para ello ejecuta el comando <code>xandra-config</code>, si requiere ver la descripci\u00f3n de cada configuraci\u00f3n dir\u00edjase a la secci\u00f3n configuraciones.</p> <pre><code>xandra-config\n</code></pre> <p>Warning</p> <p>Cada vez que se ejecuta el comando <code>xandra-update</code> el archivo de configuraci\u00f3n es regresado a sus valores por defecto.</p>"},{"location":"modes.html","title":"Modos de operaci\u00f3n","text":"<p>Xandra cuenta con m\u00faltiples modos de operaci\u00f3n cuyo objetivo es atacar las necesidades espec\u00edficas seg\u00fan el contexto de producci\u00f3n actual intentando obtener la mejor utilizaci\u00f3n de las fixturas disponibles mientras se cuida el yield y se maximizan las unidades producidas por hora.</p> <p>Los modos disponibles son <code>En l\u00ednea</code>, <code>Fuera de l\u00ednea</code>, <code>Retest</code>, <code>Only Report Pass</code> cuyo comportamiento puede observarse en la siguiente tabla:</p> Modo Bloqueo SFC Pass SFC Fail En l\u00ednea \u2705 \u2705 \u2705 Fuera de l\u00ednea \u274c \u274c \u274c Retest \u274c \u2705 \u2705 Only Report Pass \u2705 \u2705 \u274c <p><code>Bloqueo</code>: Si la fixtura cumple las condiciones de bloqueo \u00e9sta no permite probar m\u00e1s tarjetas hasta que sus condiciones sean optimas nuevamente.</p> <p><code>SFC Pass</code>: Reporta en SFC las tarjetas que pasan las pruebas.</p> <p><code>SFC Fail</code>: Reporta en SFC las tarjetas que fallan las pruebas.</p>"},{"location":"modes.html#en-linea-trazabilidad-activa","title":"En l\u00ednea (trazabilidad activa)","text":"<p>En este modo se ejecuta el sistema <code>FCTHostControl</code> con la trazabilidad habilitada, por lo tanto cada que falle o pase una tarjeta \u00e9sta se ver\u00e1 reflejada en el sistema SFC.</p> <p>Info</p> <p>Para activar \u00e9ste modo activa el selector Traceability</p> <p></p> <p>El comando con el que se inicia el secuenciador <code>FCTHostControl</code> es similar al siguiente:</p> <pre><code>cd /local/Foxconn/automation/DA194/Bahubali_Sparrow &amp;&amp; XANDRA_FIXTURE_IP=192.167.1.119 /local/Foxconn/automation/DA194/Bahubali_Sparrow/FCTHostControl -f 1\n</code></pre> <p>Info</p> <p>Al abrir Xandra De forma predeterminada \u00e9ste es el modo en el que se encuentran configuradas todas las fixturas.</p>"},{"location":"modes.html#fuera-de-linea-trazabilidad-inactiva","title":"Fuera de l\u00ednea (trazabilidad inactiva)","text":"<p>En este modo Xandra inicia el <code>FCTHostControl</code> agregando un <code>-m</code> al final del comando para correr el secuenciador fuera de linea, es decir, no se ver\u00e1 reflejado en SFC el resultado de la prueba ya sea \u00e9ste un pase o una falla.</p> <p>Info</p> <p>Para activar \u00e9ste modo desactiva el selector Traceability</p> <p></p> <p>El comando con el que se inicia el secuenciador <code>FCTHostControl</code> es similar al siguiente (con -m al final):</p> <pre><code>cd /local/Foxconn/automation/DA194/Bahubali_Sparrow &amp;&amp; XANDRA_FIXTURE_IP=192.167.1.119 /local/Foxconn/automation/DA194/Bahubali_Sparrow/FCTHostControl -f 1 -m\n</code></pre>"},{"location":"modes.html#retest-retrabajo","title":"Retest (Retrabajo)","text":"<p>El modo retest est\u00e1 pensado para probar tarjetas que provienen de reparaci\u00f3n, debido a que \u00e9stas normalmente cuentan con fallas reales es muy probable que fallen afectando el yield de la fixtura. Para prevenir el bloqueo ocasionado por fallas reales es posible activar este modo donde la trazabilidad est\u00e1 activa, pero el resultado de las pruebas no es tomado en cuenta para el calculo del yield.</p> <p>Info</p> <p>Para activar \u00e9ste modo es necesario realizar los siguientes pasos:</p> <ul> <li>Presionar atajo de teclas <code>Ctrl+Shift+R</code>.</li> <li>Activar el selector Retest Mode.</li> </ul> <p></p> <p>Note</p> <p>Al activar el modo Retest el selector de trazabilidad se deshabilita autom\u00e1ticamente y viceversa.</p> <p>Warning</p> <p>Si al desactivar el modo de <code>Retest</code> se cumple una de las condiciones en la l\u00f3gica de bloqueo la fixtura se bloquear\u00e1 autom\u00e1ticamente y tendr\u00e1 que ser desbloqueada para activar de nuevo el modo <code>Retest</code>.</p> <p>El comando con el que se inicia el secuenciador <code>FCTHostControl</code> es similar al siguiente:</p> <pre><code>cd /local/Foxconn/automation/DA194/Bahubali_Sparrow &amp;&amp; XANDRA_FIXTURE_IP=192.167.1.119 /local/Foxconn/automation/DA194/Bahubali_Sparrow/FCTHostControl -f 1\n</code></pre>"},{"location":"modes.html#only-report-pass-solo-reportar-a-sfc-tarjetas-buenas","title":"Only Report Pass (s\u00f3lo reportar a SFC tarjetas buenas)","text":"<p>Cuando est\u00e1 activado este modo, el sistema <code>FCTHostControl</code> es ejecutado fuera de l\u00ednea (con -m al final) por lo que el secuenciador no reportar\u00e1 a SFC el resultado de la prueba, no obstante, Xandra de manera externa utilizando el script indicado en la configuraci\u00f3n <code>uploadSfcScript</code> sube al sistema de trazabilidad el pase de dicho n\u00famero de serie, dando como resultado que no se reporten en SFC las fallas mientras que las tarjetas aprobadas s\u00ed se ver\u00e1n reflejadas en el sistema.</p> <p>Info</p> <p>Para activar \u00e9ste modo es necesario realizar los siguientes pasos:</p> <ul> <li>Presionar atajo de teclas <code>Ctrl+Shift+R</code>.</li> <li>Activar el selector Retest Mode.</li> <li>Presionar atajo de teclas <code>Ctrl+Shift+T</code>.</li> <li>Ingresar la contrase\u00f1a (el ingeniero a cargo debe conocerla).</li> <li>Desactivar el selector Traceability.</li> </ul> <p></p> <p>Danger</p> <p>Este modo est\u00e1 pensado para ser utilizado \u00fanicamente en fixturas espec\u00edficas donde su yield es demasiado bajo pero a\u00fan as\u00ed se desea ingresar tarjetas al mismo y no afectar al yield general. Se desaconseja completamente el uso generalizado de este modo.</p>"},{"location":"modes.html#deshabilitar-bloqueo","title":"Deshabilitar bloqueo","text":"<p>Si se habilita \u00e9sta opci\u00f3n, el bloqueo de las fixturas quedar\u00e1 deshabilitado en todos los modos de operaci\u00f3n.</p> <p>Info</p> <p>Para deshabilitar el bloqueo de fixturas es necesario realizar los siguientes pasos:</p> <ul> <li>Presionar atajo de teclas <code>Ctrl+Shift+L</code>.</li> <li>Ingresar la contrase\u00f1a (el ingeniero a cargo debe conocerla).</li> <li>Verificar que al pie de la ventana principal aparezca la leyenda <code>Lock Disabled</code>.</li> </ul> <p></p> <p>Danger</p> <p>Utilice con cuidado \u00e9sta opci\u00f3n ya que las fixturas con bajo rendimiento seguir\u00e1n aceptando tarjetas para ser probadas, lo que puede impactar generando un bajo yield junto con una reducci\u00f3n de las unidades por hora producidas.</p> <p>Hist\u00f3ricamente se han presentado casos donde una fixtura llega a fallar hasta 17 tarjetas NDF seguidas.</p>"},{"location":"operation.html","title":"Operaci\u00f3n B\u00e1sica","text":""},{"location":"operation.html#abrir-xandra","title":"Abrir Xandra","text":"<p>En el escritorio de cada servidor de prueba (PXE) se encuentra el \u00edcono de la aplicaci\u00f3n, al dar doble click sobre \u00e9ste se abrir\u00e1 una nueva ventana del programa, es importante se\u00f1alar que Xandra est\u00e1 dise\u00f1ado para solo abrir una ventana a la vez por lo que es posible que se encuentre con un mensaje de error al intentar ejecutarlo.</p> <p>De forma alternativa es posible ejecutar el comando <code>xandra</code> en una terminal para lanzar una nueva ventana.</p> <p>Info</p> <p>Si obtiene un error al intentar abrir el programa dir\u00edjase a la secci\u00f3n soluci\u00f3n de problemas para intentar encontrar un remedio a la situaci\u00f3n.</p>"},{"location":"operation.html#componentes-de-la-ventana-principal","title":"Componentes de la ventana principal","text":"<p>La ventana principal muestra un arreglo de 9 componentes dispuestos de forma id\u00e9ntica a como pueden ser localizadas f\u00edsicamente las fixturas sobre los racks, cuenta con 3 columnas de 3 fixturas cada una. </p> <p>En la parte inferior puede apreciarse la versi\u00f3n de Xandra, la versi\u00f3n del script de pruebas que est\u00e1 siendo utilizado, as\u00ed como el estado general del programa.</p> <p>Sus componentes son los siguientes:</p> <p></p>"},{"location":"operation.html#componentes-de-la-fixtura","title":"Componentes de la fixtura","text":"<p>Cada fixtura se encuentra representada en la ventana principal por un componente gr\u00e1fico cuya finalidad es facilitar la visualizaci\u00f3n del estado y configuraci\u00f3n de la misma. Todos los componentes pueden ajustarse y manipularse de manera independiente debido a que todos sus procesos se ejecutan en hilos separados para garantizar un aislamiento concurrente adecuado.</p> <p>Sus componentes son los siguientes:</p> <p></p>"},{"location":"operation.html#iniciar-fcthostcontrol-en-la-fixtura","title":"Iniciar FCTHostControl en la fixtura","text":"<p>Para iniciar el secuenciador <code>FCTHostControl</code> en una fixtura basta con presionar el bot\u00f3n <code>Start</code> y Xandra iniciar\u00e1 una nueva terminal con la configuraci\u00f3n correspondiente.</p> <p>Tip</p> <p>Si presiona el atajo de teclado <code>Ctrl+Shift+A</code> puedes inicializar todas las fixturas al mismo tiempo.</p> <ul> <li> <p>Una vez inicializada la terminal seleccione el modelo que desea correr:</p> <p></p> </li> <li> <p>Cuando la fixtura est\u00e9 lista para recibir tarjeta se mostrar\u00e1 el siguiente mensaje:</p> <p></p> </li> </ul> <p>Note</p> <p>Revise los modos de operaci\u00f3n para tener conocimiento de cu\u00e1l ser\u00e1 el comportamiento de la fixtura seg\u00fan su configuraci\u00f3n actual.</p>"},{"location":"operation.html#detener-fcthostcontrol-en-la-fixtura","title":"Detener FCTHostControl en la fixtura","text":"<p>Existen tres formas distintas para detener la terminal en una fixtura.</p>"},{"location":"operation.html#boton-stop","title":"Bot\u00f3n stop","text":"<ul> <li>Presiona el bot\u00f3n <code>Stop</code> localizado en la parte superior de la fixtura.</li> </ul>"},{"location":"operation.html#detener-todas-las-fixturas","title":"Detener todas las fixturas","text":"<ul> <li>Es posible detener todas las fixturas al mismo tiempo utilizando el atajo de teclas <code>Ctrl+Shift+S</code>.</li> </ul>"},{"location":"operation.html#cerrar-la-terminal","title":"Cerrar la terminal","text":"<ul> <li>Haz click sobre la terminal de la fixtura que deseas detener.</li> <li>Presiona el atajo de teclas <code>Ctrl+C</code>.</li> </ul> <p>Tip</p> <p>Se recomienda siempre utilizar el bot\u00f3n <code>Stop</code> para detener la terminal de una fixtura ya que de esta manera se evita finalizar alguna prueba por accidente.</p>"},{"location":"operation.html#estadisticas-de-ultimas-pruebas-realizadas","title":"Estad\u00edsticas de \u00faltimas pruebas realizadas","text":"<p>Para visualizar un reporte de las \u00faltimas pruebas ejecutadas puedes hacer click en el bot\u00f3n <code>Last Tests</code>, en \u00e9sta ventana se encuentra un gr\u00e1fico de pastel indicando el porcentaje de pruebas aprobadas y falladas, as\u00ed como una tabla con el resumen de cada una de ellas.</p> <p>En la \u00faltima columna de la tabla se encuentra un bot\u00f3n con el cual es posible acceder directamente al logfile completo de la prueba para ver en detalle el resultado de cada paso realizado durante su ejecuci\u00f3n.</p> <p></p>"},{"location":"operation.html#incrementar-o-disminuir-la-cantidad-de-pruebas-visualizadas","title":"Incrementar o disminuir la cantidad de pruebas visualizadas","text":"<p>Si requiere visualizar un n\u00famero diferente de registros puede seleccionar la cantidad que mejor se adec\u00fae a sus necesidades en el combobox ubicado sobre la parte inferior de la ventana. Los valores posibles son <code>10</code>, <code>25</code>, <code>50</code>, <code>100</code>,<code>200</code>.</p> <p>Info</p> <p>La cantidad por defecto del combobox es la que mejor se adec\u00fae a la configuraci\u00f3n <code>yieldCalcQty</code>.</p>"},{"location":"operation.html#mostrar-resultados-de-pruebas-realizadas-en-modo-retest-show-retest","title":"Mostrar resultados de pruebas realizadas en modo Retest (Show Retest)","text":"<p>Muestra u oculta las pruebas realizadas en modo <code>Retest</code>.</p> <p>De manera autom\u00e1tica se sincroniza el checkbox <code>Show Retests</code> con el modo actual de la fixtura, dando como resultado que una vez entrando en modo Retest al abrir la ventana de \u00faltimos resultados la tabla muestre todas las pruebas incluyendo aquellas realizadas bajo el modo retest, por el contrario, si la fixtura se encuentra en cualquier otro modo, el selector estar\u00e1 deshabilitado de manera predeterminada.</p>"},{"location":"operation.html#columna-description","title":"Columna Description","text":"<p>En esta columna se guarda una s\u00edntesis de la causa por la cual fall\u00f3 la prueba, listando errores como problemas de dimm o el voltaje que provoc\u00f3 dicho comportamiento inesperado.</p>"},{"location":"operation.html#columna-mode","title":"Columna Mode","text":"<p>En esta columna se especifica el modo con el cual fu\u00e9 ejecutada la prueba (ver secci\u00f3n modos para mayor informaci\u00f3n).</p>"},{"location":"operation.html#estadisticas-de-ultimas-fallas","title":"Estad\u00edsticas de \u00faltimas fallas","text":"<p>Si requiere visualizar un reporte con las \u00faltimas fallas presentadas en la fixtura presione el bot\u00f3n <code>Last Failures</code>, en \u00e9sta ventana se encuentra un gr\u00e1fico de pastel indicando las fallas y su porcentaje de incidencia seg\u00fan su clasificaci\u00f3n (stepLabel), as\u00ed como una tabla con el resumen de cada una de ellas.</p> <p>El objetivo de \u00e9sta ventana es identificar las fallas que est\u00e1 teniendo la fixtura para realizar un mejor mantenimiento preventivo y correctivo.</p> <p></p> <p>Nota</p> <p>Tanto la tabla como los controles en la parte inferior de esta ventana funcionan de la misma manera que la ventana Estad\u00edsticas de \u00faltimas pruebas realizadas.</p>"},{"location":"operation.html#logica-para-el-bloqueo-de-fixturas","title":"L\u00f3gica para el bloqueo de fixturas","text":"<p>Una de las razones de ser de Xandra es la posibilidad de bloquear el uso de una fixtura basado en una serie de reglas previamente establecidas.</p> <p>Actualmente la fixtura es bloqueada si se cumple una de 2 condiciones:</p> <ol> <li>El yield es m\u00e1s bajo que lo especificado en la configuraci\u00f3n <code>yieldErrorThreshold</code>.</li> <li>La fixtura fall\u00f3 de manera consecutiva la cantidad de pruebas especificadas en la configuraci\u00f3n <code>lockFailQty</code>.</li> </ol> <p>Una vez que se cumple alguna de las dos condiciones, al ingresar una tarjeta de prueba la fixtura abortar\u00e1 la prueba de forma autom\u00e1tica hasta que nuevamente se encuentre en condiciones \u00f3ptimas para operar. La fixtura bloqueada puede ser identificada f\u00e1cilmente pues su control es pintado de color rojo para indicar visualmente dicho estado, como se muestra en la siguiente imagen:</p> <p></p> <p>El bloqueo de la fixtura se realiza al ejecutar un script de comprobaci\u00f3n desde el sistema <code>FCTHostControl</code>, mismo que se puede establecer en su archivo de configuraci\u00f3n <code>FCTHostControl.config</code> en la secci\u00f3n <code>Check_Station</code>. De forma autom\u00e1tica Xandra sobre-escribe la configuraci\u00f3n antes mencionada para ejecutar el script <code>Resources/chk_station_is_disabled.py</code> antes de cada prueba. </p> <p>Example</p> <pre><code>\"Check_Station\": {\n\"Enable\": true /*true: call the script, false: disable*/,\n\"App_Path\": \"/usr/local/Foxxcon/automation/Xandra/Resources/chk_station_is_disabled.py\" ,\n\"App_Args\": \"\"      /*The parameters for script calling, support variable: ${sn}, ${mac}, ${usb}, ${led}, ${ledmsg}*/,\n\"Delay\": 5000 /*Delay for script exit, millisecond*/\n},\n</code></pre>"},{"location":"operation.html#script-chk_station_is_disabledpy","title":"Script chk_station_is_disabled.py","text":"<p>Este script se comunica mediante \"websocket\" con el programa principal de Xandra para obtener el estado actual de la fixtura desde el que es invocado, para obtener dicha informaci\u00f3n el script lee la variable de entorno con el nombre especificado en la configuraci\u00f3n <code>fixtureIpEnvironmentName</code>, tras lo anterior env\u00eda una petici\u00f3n a Xandra solicitando el estado actual de dicha fixtura, para informar a <code>FCTHostControl</code> si debe continuar o no la prueba se hace uso del estado de salida <code>exit(0)</code> significa que la fixtura est\u00e1 funcionando correctamente y por lo tanto debe continuar con la prueba, por el contrario, si el estado es <code>exit(1)</code> la se\u00f1al es que aborte la prueba.</p> <p>Warning</p> <p>Si no se configura correctamente el archivo <code>FCTHostControl.config</code> para ejecutar el script <code>chk_station_is_disabled.py</code>, Xandra no podr\u00e1 bloquear la fixtura.</p>"},{"location":"operation.html#logica-para-el-desbloqueo-de-fixturas","title":"L\u00f3gica para el desbloqueo de fixturas","text":"<p>Una vez bloqueada la fixtura existen 2 posibilidades para desbloquearla:</p> <ol> <li>Subir el yield por encima de lo especificado en la configuraci\u00f3n <code>yieldErrorThreshold</code>.</li> <li>La fixtura pasa de manera consecutiva la cantidad de pruebas especificadas en la configuraci\u00f3n <code>unlockPassQty</code>.</li> </ol> <p>Una vez cumplida una de las dos condiciones el control de la fixtura remueve el color rojo del mismo.</p> <p>Para desbloquear una fixtura realice los siguientes pasos:</p> <ul> <li>Activar el modo <code>Offline</code> en la fixtura para desbloquearla, se debe tomar en cuenta que la prueba no reflejar\u00e1 los resultados en el sistema de trazabilidad.</li> <li> <p>Pruebe la cantidad de tarjetas especificadas en la leyenda <code>Test * to unlock</code>.</p> <p></p> </li> <li> <p>Repita el paso anterior hasta que el led se ilumine en color verde y la leyenda cambie a <code>Unlocked</code>.</p> <p></p> </li> <li> <p>Presione el bot\u00f3n stop.</p> </li> <li>Active el modo de operaci\u00f3n deseado.</li> </ul>"},{"location":"operation.html#deteccion-de-resultados","title":"Detecci\u00f3n de resultados","text":"<p>Xandra detecta los resultados al escuchar la carpeta especificada en la configuraci\u00f3n <code>logsPath</code>, cada que se crea un nuevo archivo en esta ruta su contenido es procesado y almacenado, de igual manera se ve reflejado en la interfaz gr\u00e1fica afectando el estado de la fixtura asociada al resultado de la prueba detectada.</p>"},{"location":"operation.html#deteccion-de-final-de-la-prueba","title":"Detecci\u00f3n de final de la prueba","text":"<p>Al ser Xandra una envoltura de <code>FCTHostControl</code> la \u00fanica manera disponible de detectar el final de una prueba es mediante la detecci\u00f3n de un archivo de registro (logfile) o mediante la ejecuci\u00f3n de un script configurado en la secci\u00f3n <code>Test_End_Call</code> del archivo <code>FCTHostControl.config</code>, \u00e9sta configuraci\u00f3n se escribe de manera autom\u00e1tica al iniciar Xandra.</p> <p>Example</p> <pre><code>\"Test_End_Call\": {\n\"Enable\": true /*true: call the script, false: disable*/,\n\"App_Path\": \"/usr/local/Foxconn/automation/Xandra/Resources/chk_station_test_finished.py\" ,\n\"App_Args\": \"\"      /*The parameters for script calling, support variable: ${sn}, ${mac}, ${usb}, ${led}, ${ledmsg}*/,\n\"Delay\": 5000 /*Delay for script exit, millisecond*/\n},\n</code></pre> <p>El script ejecutado es <code>Resources/chk_station_test_finished.py</code> el cual informa mediante \"websocket\" a Xandra que la fixtura con cierta ip termin\u00f3 su prueba.</p>"},{"location":"troubleshooting.html","title":"Soluci\u00f3n de problemas","text":""},{"location":"troubleshooting.html#xandra-no-permite-abrir-nueva-ventana","title":"Xandra no permite abrir nueva ventana","text":"<p>Xandra s\u00f3lo permite tener una ventana abierta a la vez debido a que utiliza tecnolog\u00edas como websockets cuyo proceso est\u00e1 ligado a un puerto en particular (5001), de igual manera se pretende evitar la duplicidad de consolas ejecutando <code>FCTHostControl</code> para prevenir problemas con la ejecuci\u00f3n de las pruebas. No obstante este dise\u00f1o tiene como inconveniente que si el proceso principal de Xandra se queda congelado en segundo plano, Xandra no permitir\u00e1 abrir una nueva ventana.</p> <p>Failure</p> <pre><code>[Errno 98] Address already in use\n</code></pre> <pre><code>Xandra is already open, please close the main window to allow a new start\n</code></pre> <p></p> <p>Para solucionar \u00e9ste problema es necesario matar el proceso principal de Xandra, ejecute los siguientes comandos para realizar tal cometido:</p> <ul> <li> <p>Ingresar a la carpeta ra\u00edz de Xandra:</p> <pre><code>xandra-path\n</code></pre> </li> <li> <p>Obtener PID (process id) de xandra:</p> <pre><code>fuser xandra.py\n</code></pre> <p>Info</p> <ul> <li>Si se muestra como resultado un n\u00famero entero, entonces xandra se encuentra ejecut\u00e1ndose en segundo plano.</li> </ul> <pre><code>fuser xandra.py\n/usr/local/Foxconn/automation/Xandra/xandra.py:  2326\n</code></pre> </li> <li> <p>Matar el proceso de xandra:</p> <pre><code>fuser xandra.py 2&gt; /dev/null | xargs kill\n</code></pre> </li> </ul> <p>Tip</p> <p>Puede utilizarse el comando <code>xandra-kill</code> el cual ejecuta los pasos mencionados anteriormente de forma autom\u00e1tica.</p>"},{"location":"troubleshooting.html#todas-las-terminales-se-quedan-esperando-el-usb","title":"Todas las terminales se quedan esperando el USB","text":"<p>En ocasiones todas las terminales se quedan esperando a que se liberen los puertos usb, \u00e9sto se puede solucionar o bien iniciando todas las terminales en caso de que una no lo est\u00e9, desatorando f\u00edsicamente una fixtura trabada y en un caso extremo copiando y pegando nuevamente la carpeta que contiene al <code>FCTHostControl</code> para posteriormente reiniciar Xandra.</p> <ul> <li> <p>Ejecutar el comando <code>xandra-config</code> en una terminal:</p> <pre><code>xandra-config\n</code></pre> </li> <li> <p>Identificar la configuraci\u00f3n <code>fctHostControl</code> para poder ubicar la localizaci\u00f3n de la carpeta del <code>FCTHostControl</code>.</p> <p>Example</p> <pre><code>fctHostControl\": [\n        {\n            \"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3_4.2\",\n            \"executable\": \"FCTHostControl\",\n            \"config\": \"FCTHostControl.config\"\n        },\n        {\n            \"path\": \"/usr/local/Foxconn/automation/DA194/Bahubali_Sparrow_C3\",\n            \"executable\": \"FCTHostControl\",\n            \"config\": \"FCTHostControl.config\"\n        }\n    ],\n</code></pre> </li> <li> <p>Copiar y pegar la carpeta contenedora del <code>FCTHostControl</code> <code>fctHostControl.path</code> para crear una copia dentro de la misma ubicaci\u00f3n.</p> </li> <li>Eliminar la carpeta original.</li> <li>Renombrar la carpeta copia para que coincida con la configuraci\u00f3n <code>fctHostControl.path</code>.</li> <li>Reiniciar Xandra.</li> </ul>"},{"location":"troubleshooting.html#error-al-conectarse-con-la-base-de-datos","title":"Error al conectarse con la base de datos","text":"<p>Si se muestra una ventana con  el error mostrado a continuaci\u00f3n, es necesario iniciar Xampp para ejecutar correctamente Xandra.</p> <p>Failure</p> <pre><code>(pymysql.err.OperationalError) (2003, \"Can't connect to MySQL server on 'localhost' ([Errno 111 Connection refused)\")\n(Background on this error at: https://sqlalche.me/e/20/e3q8)\n</code></pre> <p></p> <ul> <li>Ejecutar los siguientes comandos:     <pre><code>sudo systemctl start xampp.service\n</code></pre> <pre><code>sudo systemctl status xampp.service\n</code></pre></li> </ul> <p>Failure</p> <p>Si tras ejecutar los comandos anteriores se muestra un error relacionado con libc.so.6 o libdl.so.2, realiza los pasos de la secci\u00f3n Xamp no inicia para resolverlo.</p>"},{"location":"troubleshooting.html#xampp-no-inicia-problema-libcso6-libdlso2","title":"Xampp no inicia (problema libc.so.6, libdl.so.2)","text":"<p>Si se muestra un error similar al siguiente, siga los pasos mostrados a continuaci\u00f3n para poder ejecutar Xampp dentro de CentOS:</p> <pre><code>** (gedit:10150): WARNING **: 10:15:59.822: Set document metadata failed: Setting attribute metadata::gedit-position not supported\n[root@localhost ~]# sudo /opt/lampp/lampp start\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/bin/bash: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\nid: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/opt/lampp/share/xampp/xampplib: line 11: test: -ne: unary operator expected\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\nXAMPP: cat: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\nrm: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\nnetstat: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\nnetstat: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/opt/lampp/bin/httpd: error while loading shared libraries: librt.so.1: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\nXAMPP: hostname: error while loading shared libraries: libnsl.so.1: cannot open shared object file: No such file or directory\nnetstat: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\nXAMPP: cat: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\nrm: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\nnetstat: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/bin/sh: error while loading shared libraries: libdl.so.2: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n/opt/lampp/bin/gettext: error while loading shared libraries: libc.so.6: cannot open shared object file: No such file or directory\n</code></pre> <ul> <li> <p>Abrir archivo principal de xampp:</p> <pre><code>sudo gedit /opt/lampp/lampp\n</code></pre> </li> <li> <p>Modificar la l\u00ednea <code>export LD_ASSUME_KERNEL=2.2.5</code> a <code>export LD_ASSUME_KERNEL=2.8.0</code>:</p> <pre><code>- export LD_ASSUME_KERNEL=2.2.5\n+ export LD_ASSUME_KERNEL=2.8.0\n</code></pre> </li> <li> <p>Guardar los cambios realizados en el archivo.</p> </li> <li> <p>Ejecutar los siguientes comandos:     <pre><code>sudo systemctl start xampp.service\n</code></pre> <pre><code>sudo systemctl status xampp.service\n</code></pre></p> </li> <li> <p>Debe mostrarse una salida similar a la siguiente:</p> <p>Success</p> <pre><code>XAMPP: Starting Apache.../opt/lampp/share/xampp/xampplib\n/opt/lampp/share/xampp/xampplib\nok.\nXAMPP: Starting MySQL.../opt/lampp/share/xampp/xampplib\nok.\nXAMPP: Starting ProFTPD.../opt/lampp/share/xampp/xampplib\nok.\n</code></pre> </li> </ul>"}]}